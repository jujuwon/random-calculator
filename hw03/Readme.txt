1. 조 이름, 조원, 역할
 - 조 이름
  - 데이터 통신 과제 17조
 
 - 조원 및 역할
  - 이주원(20183085) : 서버 구현
  - 윤태현(20193075) : 클라이언트 구현, 영상 제작, 문서 작업
  - 배호재(20223112) : 과제 참여 안함


2. 프로그램 구성요소 설명
 - server
  - 클라이언트 4개가 연결되면 동작을 시작합니다.
  - 클라이언트가 보유한 파일 정보를 관리합니다.
  - 클라이언트가 요청한 파일의 청크를 가지고 있는 클라이언트를 알고리즘에 기반해 검색해서 값을 반환합니다.
  - 모든 클라이언트가 모든 파일 청크를 가지게 되면 클라이언트들에게 메시지를 전달하고 종료합니다.

 - client
  - 서버와 연결하여 보유한 파일 정보를 공유합니다.
  - 필요한 파일 청크를 가지고 있는 클라이언트 정보를 서버로부터 받아 해당 클라이언트에게 정보를 요청합니다.
  - 클라이언트로부터 청크 요청이 오면 해당 파일의 해당 청크를 읽어 반환합니다.
  - 서버로부터 종료메시지를 받으면 종료합니다.


3. 소스코드 컴파일 방법
 - server : 프로그램 실행 방법에 명시되어 있는대로 실행시키면 됩니다.
  - Linux 환경에서 run.sh 파일 실행 시 바로 실행됩니다.
  - gradle 을 이용해 jar 파일로 빌드 후, 빌드된 jar 파일을 실행합니다.

 - client : 프로그램 실행 방법에 명시되어 있는대로 실행시키면 됩니다.
  - Linux 환경에서 run{id}.sh 파일 실행 시 실행됩니다.


4. 프로그램 실행 환경 및 실행 방법
 - 프로그램 실행 환경
   - 서버 : Ubuntu22.04, Java 11
   - 클라이언트 : Windows 10, Java 17(Java 11)
  
 - 프로그램 실행 방법
  - server : ./server/run.sh
  - client 1, 2 : ./client/run{id}.sh
   ex) ./run1.sh
  - client 3, 4 : client 폴더에서 powershell을 열고 run{id}.sh의 내용을 복사 붙여넣기해서 실행합니다.
                 run{id}.sh를 실행시킬 수 있다면 실행시키면 됩니다.

  - PuTTY 실행 방법
   -> 첨부한 개인키가 사용되지 않으면 후술한 방법대로 개인키를 생성하고 개인키를 더블 클릭해준 뒤 PuTTY를 실행시킵니다.
     윈도우 환경이므로 ubuntu를 입력하면 PuTTY 실행이 완료됩니다.
     그 후 서버 폴더에서 서버를 실행시키면 됩니다.

  - PuTTY 개인키 생성 방법
   -> PuTTYgen 에서 random.pem 키를 Load한 후 Save private key를 눌러 개인키를 생성하고 저장해줍니다.
   

5. 구현한 최적의 알고리즘 제시 및 설명(Pseudo Code 작성 및 설명)
 - 구현한 최적의 알고리즘
  - 메시지 전송이 적게 드는 client에 청크가 있다면 그 client로부터 청크를 받고 없다면 그 다음으로 거리가 먼 클라이언트로부터 청크를 받는다.
   즉, 서버에 있는 클라이언트나 로컬에 있는 클라이언트끼리 가능한 청크를 주고 받으며,
   이후에 서버는 로컬과, 로컬은 서버와 청크를 주고 받는다.

 - Pseudo Code
  1. 요청받은 클라이언트와 가까운 거리에 있는 클라이언트를 검색한다.
  2. 해당 클라이언트의 청크 보유 여부를 확인한다.
   2-1. 클라이언트가 청크를 보유하고 있다.
    2-1-1. 해당 정보를 반환한다.
   2-2. 클라이언트가 청크를 보유하고 있지 않다.
    2-2-1. 다음으로 거리가 가까운 클라이언트를 검색한다.
    2-2-2. 2.과정으로 돌아간다.


6. Error or Additional message Handling
 - 서버
  - 멀티쓰레딩 환경에서 동시성 문제를 해결하기 위해 synchronized 를 활용하였습니다.
  - Logging 을 위한 File IO 시, IOException 이 발생하면 stackTrace 를 출력하도록 예외처리를 하였습니다.
  
 - 클라이언트
  - 멀티쓰레딩 환경에서 클라이언트 간 메시지를 주고 받고, 행렬 연산할 때 동시성 문제를 해결하기 위해 synchronized 를 활용하였습니다.
  - Logging 을 위한 File IO 시, IOException 이 발생하면 stackTrace 를 출력하도록 예외처리를 하였습니다.


7. Additional Comments
 - 파일 이름은 A, B, C, D 대신 1, 2, 3, 4로 수정하였습니다.

 - GitHub URL : https://github.com/jujuwon/random-calculator/tree/main/hw03
